<!DOCTYPE html>
<html>
<head>
	<!-- META -->
	<title>FizzBuzz Question - Example of MameBlock.js - Javascript library for visual code editing.</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<meta name="description" content="" />
	
	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="css/mameblock.min.css" media="all" />
	<link rel="stylesheet" type="text/css" href="css/highlight_default.css" media="all" />
	
</head>
<body>
	<div class="grid">
		<div class="col_12" style="margin-top:60px;">
			<h1>FizzBuzz Question</h1>
			<p>This is example of MameBlock.js</p>
			<p>Fizz buzz is a group word game for children to teach them about division. Players take turns to count incrementally, replacing any number divisible by three with the word "fizz", any number divisible by five with the word "buzz", and any number divisible by three and five with the word "fizzbuzz". - <a href='https://en.wikipedia.org/wiki/Fizz_buzz' target='_blank'>Wikipedia</a></p>
		</div>
		<div class="col_12">			
			<ul class="button-bar">
				<li><a class="first" id="mameEdit" href="#modal-window">Edit</a></li>
				<li><a class="last" id="mameRun" href="#">Run</a></li>
			</ul>
			<p></p>
			<pre id="exampleArea"></pre>

		</div>
		<div class="col_12">
		<p><a href="index.html">go to mameblock.js</a></p>
		</div>
		<div class="col_12" id="footer">
			Copyright 2015 Yutaka Kachi All Rights Reserved.
		</div>
	</div> <!-- End Grid -->

	<div id="modal-express">
		<div class="modal-body">
			<label for="expModalText">Edit expression</label><br />
			<input id="expModalText" type="text" />
		</div>
		<a class="modal_close" href="#">[OK]</a>
    </div>

    <div id="modal-window">
		<a id="editor_close" href="#">[Close]</a>
		<div id="loading_area">Edit Area:</div>
    </div>

	<!-- Javascript -->
	<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
	<script type="text/javascript" src="js/mameblock.min.js"></script>
	<script type="text/javascript" src="js/highlight.pack.js"></script>
	<script type="text/javascript">
	$(function() {
		<!-- # Init -->
		var codeArea = $("#exampleArea");
		var codeText = MAME_BLOCK.init("#loading_area", "mameBlock_template.html");
		/* wait for DOM building */
		var wait0 = setTimeout(function() {
			setCode(MAME_BLOCK.getCodeBlock(), codeArea);
		}, 500);
		
		<!-- # Edit -->
		$("#modal-window").mameModal({
			overlayClose: false,
			closeOnEscape: false
		});

		$('#mameEdit').click(function(e){
			<!-- MAME_BLOCK.copyCodeBlock('#loading_area'); -->
			$('#modal-window')
				.trigger('openModal')
				.css("top", $(window).scrollTop() + 10);
			e.preventDefault();
		});
		
		$('#editor_close').click(function(e){
			$('#modal-window').trigger('closeModal');
			MAME_BLOCK.reloadCodeBlock('#loading_area');
			setCode(MAME_BLOCK.getCodeBlock(), codeArea);
			e.preventDefault();
		});
			
		<!-- # Run -->
		$("#mameRun").click(function() {
			<!-- get code -->
			var codeText = MAME_BLOCK.getCodeBlock();
			setCode(codeText, codeArea);
			var mameExec = new Function(codeText);
			mameExec();
		});
		
		<!-- ## set code and syntax highlight -->
		function setCode(code, codeArea) {
			codeArea.text(code);
			codeArea.each(function(i, block) {
				hljs.highlightBlock(block);
			});
		};

	});

	</script>

</body>
</html>
